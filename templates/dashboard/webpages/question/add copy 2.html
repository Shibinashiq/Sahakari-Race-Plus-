<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>CKEditor with MathJax and Dynamic Fields</title>
    <script src="/path/to/ckeditor/ckeditor.js"></script>
</head>
<body>
    <textarea name="editor1" id="editor1"></textarea>

    <div id="options-container">
        <button type="button" id="add-option" class="btn btn-primary">Add Option</button>
    </div>

    <div id="answers-container">
        <button type="button" id="add-answers" class="btn btn-primary">Add Answer</button>
    </div>

    <script>
        // Initialize CKEditor with MathJax
        CKEDITOR.plugins.addExternal('mathjax', '/path/to/ckeditor/plugins/mathjax/', 'plugin.js');  // Update the path to the MathJax plugin
        CKEDITOR.replace('editor1', {
            extraPlugins: 'mathjax',
            mathJaxLib: '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML'
        });

        // JavaScript for dynamically adding/removing options and answers
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('add-option').addEventListener('click', function() {
                const container = document.getElementById('options-container');
                const newField = document.createElement('div');
                newField.className = 'option-field';
                newField.innerHTML = `
                    <input type="text" name="options[]" class="form-control" placeholder="Enter option">
                    <button type="button" class="btn btn-danger btn-sm mt-2 remove-btn remove-option">Remove</button>
                `;
                container.appendChild(newField);
            });

            document.getElementById('options-container').addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-option')) {
                    e.target.parentElement.remove();
                }
            });

            document.getElementById('add-answers').addEventListener('click', function() {
                const container = document.getElementById('answers-container');
                const newField = document.createElement('div');
                newField.className = 'answers-field';
                newField.innerHTML = `
                    <input type="text" name="answers[]" class="form-control" placeholder="Enter answer">
                    <button type="button" class="btn btn-danger btn-sm mt-2 remove-btn remove-answer">Remove</button>
                `;
                container.appendChild(newField);
            });

            document.getElementById('answers-container').addEventListener('click', function(e) {
                if (e.target.classList.contains('remove-answer')) {
                    e.target.parentElement.remove();
                }
            });
        });
    </script>
</body>
</html>
